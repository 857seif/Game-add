<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Ù…Ù†ØµØ© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</title>
<script src="https://cdn.tailwindcss.com"></script>
<style>
  body { background-color: #0b1221; color: #fff; font-family: 'Cairo', sans-serif; }
  .card { background-color: #141b2d; border-radius: 1rem; box-shadow: 0 0 15px #00000055; padding: 1rem; }
  .btn { background-color: #e11d48; padding: 0.5rem 1rem; border-radius: 0.5rem; cursor: pointer; transition: 0.2s; }
  .btn:hover { background-color: #be123c; }
  input, textarea { background-color: #0f172a; border: 1px solid #334155; border-radius: 0.5rem; padding: 0.5rem; color: white; width: 100%; }
  .game-card img { border-radius: 0.75rem; width: 100%; height: auto; cursor: pointer; }
  .download-btn { background-color: #1d4ed8; border-radius: 0.5rem; padding: 0.4rem 0.8rem; margin: 0.2rem; display: inline-block; transition: 0.2s; }
  .download-btn:hover { background-color: #2563eb; }
  .download-links { display: none; margin-top: 10px; }
  .show-download-btn { background-color: #10b981; border-radius: 0.5rem; padding: 0.5rem 1rem; margin: 10px 0; cursor: pointer; display: inline-block; }
  .show-download-btn:hover { background-color: #059669; }
</style>
</head>
<body class="p-4">
  <h1 class="text-3xl text-center font-bold mb-6 text-pink-500">ğŸ® Ù…Ù†ØµØ© ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</h1>
  
  <div class="grid md:grid-cols-2 gap-6">
    <div class="card">
      <h2 class="text-xl font-bold mb-4 border-b border-pink-700 pb-2">Ø¥Ø¶Ø§ÙØ© Ù„Ø¹Ø¨Ø© Ø¬Ø¯ÙŠØ¯Ø©</h2>
      <label>Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©:</label>
      <input id="gameName" placeholder="Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©">
      <label class="mt-2 block">Ø±Ø§Ø¨Ø· ØµÙˆØ±Ø© Ø§Ù„Ù„Ø¹Ø¨Ø©:</label>
      <input id="gameImage" placeholder="Ø£Ø¯Ø®Ù„ Ø±Ø§Ø¨Ø· Ø§Ù„ØµÙˆØ±Ø©">
      <label class="mt-2 block">ÙˆØµÙ Ø§Ù„Ù„Ø¹Ø¨Ø©:</label>
      <textarea id="gameDesc" rows="3" placeholder="Ø£Ø¯Ø®Ù„ ÙˆØµÙ Ø§Ù„Ù„Ø¹Ø¨Ø©"></textarea>
      <label class="mt-2 block text-pink-400">Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„ (Ø±Ø§Ø¨Ø· ÙˆØ§Ø­Ø¯ ÙÙŠ ÙƒÙ„ Ø³Ø·Ø±):</label>
      <textarea id="gameLinks" rows="4" placeholder="https://1cloudfile.com/part1
https://1cloudfile.com/part2
..."></textarea>
      <button class="btn mt-4 w-full" onclick="addGame()">â• Ø¥Ø¶Ø§ÙØ© Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
      <button class="mt-3 w-full bg-green-600 hover:bg-green-700 rounded p-2" onclick="exportHTML()">â¬‡ï¸ ØªØµØ¯ÙŠØ± Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
      <button class="mt-3 w-full bg-red-600 hover:bg-red-700 rounded p-2" onclick="clearAll()">ğŸ—‘ï¸ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</button>
    </div>
    
    <div class="card">
      <h2 class="text-xl font-bold mb-4 border-b border-pink-700 pb-2">Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ù…Ø¶Ø§ÙØ©</h2>
      <div id="gamesContainer" class="space-y-4 text-center text-gray-400">
        <p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯.</p>
      </div>
    </div>
  </div>

  <script>
    let games = JSON.parse(localStorage.getItem('games')) || [];

    function saveGames() {
      localStorage.setItem('games', JSON.stringify(games));
    }

    function addGame() {
      const name = document.getElementById('gameName').value.trim();
      const img = document.getElementById('gameImage').value.trim();
      const desc = document.getElementById('gameDesc').value.trim();
      const links = document.getElementById('gameLinks').value.trim().split('\n').filter(x => x);
      
      if (!name || !img || links.length === 0) {
        alert('Ù…Ù† ÙØ¶Ù„Ùƒ Ø£Ø¯Ø®Ù„ Ø§Ø³Ù… Ø§Ù„Ù„Ø¹Ø¨Ø©ØŒ Ø§Ù„ØµÙˆØ±Ø©ØŒ ÙˆØ±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„.');
        return;
      }
      
      const game = { name, img, desc, links };
      games.push(game);
      saveGames();
      renderGames();
      
      document.getElementById('gameName').value = '';
      document.getElementById('gameImage').value = '';
      document.getElementById('gameDesc').value = '';
      document.getElementById('gameLinks').value = '';
    }

    function clearAll() {
      if (confirm('Ù‡Ù„ Ø£Ù†Øª Ù…ØªØ£ÙƒØ¯ Ø£Ù†Ùƒ ØªØ±ÙŠØ¯ Ù…Ø³Ø­ Ø¬Ù…ÙŠØ¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ØŸ')) {
        games = [];
        saveGames();
        renderGames();
      }
    }

    function renderGames() {
      const container = document.getElementById('gamesContainer');
      if (games.length === 0) {
        container.innerHTML = '<p>Ù„Ø§ ØªÙˆØ¬Ø¯ Ø£Ù„Ø¹Ø§Ø¨ Ù…Ø¶Ø§ÙØ© Ø¨Ø¹Ø¯.</p>';
        return;
      }

      // Ù†Ø±Ø³Ù… Ø§Ù„ÙƒØ±ÙˆØª
      container.innerHTML = games.map((g, index) => `
        <div class="game-card border border-gray-700 p-3 rounded-xl">
          <h3 class="text-2xl font-bold mb-2 text-pink-400">${g.name}</h3>
          <img src="${g.img}" alt="${g.name}" class="mb-3 game-img" data-index="${index}">
          ${g.desc ? `<p class="text-gray-300 mb-2">${g.desc}</p>` : ''}
          <button class="show-download-btn toggle-btn" data-index="${index}">Ø§Ø¸Ù‡Ø§Ø± Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</button>
          <div class="download-links" id="downloadLinks${index}">
            ${g.links.map((l, i) => `<a href="${l}" target="_blank" class="download-btn">ØªØ­Ù…ÙŠÙ„ Ø§Ù„Ø¬Ø²Ø¡ ${i+1}</a>`).join('')}
          </div>
        </div>
      `).join('');

      // Ø±Ø¨Ø· Ø§Ù„Ø£Ø­Ø¯Ø§Ø« Ø¨Ø¹Ø¯ Ø§Ù„Ø±Ø³Ù…
      document.querySelectorAll('.toggle-btn, .game-img').forEach(el => {
        el.addEventListener('click', e => {
          const i = e.target.getAttribute('data-index');
          toggleDownloadLinks(i);
        });
      });
    }

    function toggleDownloadLinks(index) {
      const downloadLinks = document.getElementById(`downloadLinks${index}`);
      downloadLinks.style.display = (downloadLinks.style.display === 'block') ? 'none' : 'block';
    }

    function exportHTML() {
      const gamesHTML = games.map((g, index) => `
        <div style="background:#141b2d;border-radius:1rem;padding:1rem;margin-bottom:1rem;color:white;">
          <h2 style="color:#f472b6;">${g.name}</h2>
          <img src="${g.img}" style="max-width:100%;border-radius:10px;cursor:pointer;" onclick="toggleDownloadLinksExported(${index})">
          ${g.desc ? `<p>${g.desc}</p>` : ''}
          <button class="show-download-btn" onclick="toggleDownloadLinksExported(${index})" style="background-color:#10b981;border-radius:0.5rem;padding:0.5rem 1rem;margin:10px 0;cursor:pointer;display:inline-block;">Ø§Ø¸Ù‡Ø§Ø± Ø±ÙˆØ§Ø¨Ø· Ø§Ù„ØªØ­Ù…ÙŠÙ„</button>
          <div class="download-links" id="downloadLinksExported${index}" style="display:none;margin-top:10px;">
            ${g.links.map((l, i) => `<a href="${l}" target="_blank" style="display:inline-block;margin:4px;padding:6px 12px;background:#1d4ed8;color:white;border-radius:6px;text-decoration:none;">ØªØ­Ù…ÙŠÙ„ ${i+1}</a>`).join('')}
          </div>
        </div>`).join('');
      
      const htmlFile = `
<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Ù…ÙˆÙ‚Ø¹ Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨</title>
<style>
body{background:#0b1221;color:white;font-family:'Cairo',sans-serif;padding:20px;}
.download-links{display:none;margin-top:10px;}
.show-download-btn{background-color:#10b981;border-radius:0.5rem;padding:0.5rem 1rem;margin:10px 0;cursor:pointer;display:inline-block;}
.show-download-btn:hover{background-color:#059669;}
</style>
</head>
<body>
<h1 style="text-align:center;color:#f472b6;">ğŸ® Ù…ÙƒØªØ¨Ø© Ø§Ù„Ø£Ù„Ø¹Ø§Ø¨ Ø§Ù„Ø®Ø§ØµØ© Ø¨Ùƒ</h1>
${gamesHTML}
<script>
function toggleDownloadLinksExported(index){
 const el=document.getElementById('downloadLinksExported'+index);
 el.style.display=(el.style.display==='block')?'none':'block';
}
<\/script>
</body>
</html>`;
      
      const blob = new Blob([htmlFile], {type: "text/html"});
      const link = document.createElement("a");
      link.href = URL.createObjectURL(blob);
      link.download = "games_site.html";
      link.click();
    }

    // Ø¹Ù†Ø¯ ÙØªØ­ Ø§Ù„ØµÙØ­Ø©
    renderGames();
  </script>
</body>
</html>